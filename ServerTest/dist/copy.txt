SQL> @create_tablespace

Tablespace created.

SQL> @drop tablespace
SP2-0310: unable to open file "drop.sql"
SQL> @drop_tablespace
.... dropping tablespace mvhospital_data...

Tablespace dropped.

... tablespace dropped!...
SQL> @create_tablespace

Tablespace created.

SQL> drop tablespace mvhospital_data
  2  /

Tablespace dropped.

SQL> drop tablespace mvhospital_data including contents and datafiles
  2  /
drop tablespace mvhospital_data including contents and datafiles
*
ERROR at line 1:
ORA-00959: tablespace 'MVHOSPITAL_DATA' does not exist 


SQL> @create_tablespace
CREATE TABLESPACE mvhospital_data
*
ERROR at line 1:
ORA-01119: error in creating database file 
'C:\Users\Bhargav\Documents\CS603C_LateSpring_2015\mtviewSQL\mtviewSQL\data\mvho
spital_data.dbf' 
ORA-27038: created file already exists 
OSD-04010: <create> option specified, file already exists 


SQL> @create_tablespace

Tablespace created.

SQL> @drop_tablespace
.... dropping tablespace mvhospital_data...

Tablespace dropped.

... tablespace dropped!...
SQL> @create_tablespace

Tablespace created.

SQL> @create_user
drop user mvhospital_dba cascade
*
ERROR at line 1:
ORA-01940: cannot drop a user that is currently connected 


create user mvhospital_dba
            *
ERROR at line 1:
ORA-01920: user name 'MVHOSPITAL_DBA' conflicts with another user or role name 



Grant succeeded.

... user mvhospital_dba created and was granted privilleges..  log in as this user now...
SQL> @create_tables
... in create_tables.sql...
... creating table item...

Table created.

... creating table room...

Table created.

... creating table patient...

Table created.

... creating bill...

Table created.

... creating table physician...

Table created.

... creating table procedure...

Table created.


TABLE_NAME                                                                      
------------------------------                                                  
ITEM                                                                            
ROOM                                                                            
PATIENT                                                                         
BILL                                                                            
PHYSICIAN                                                                       
PROCEDURE                                                                       

6 rows selected.

SQL> @ins_bill
insert into bill values ('3249','200',150.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('3249','205',10.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('3249','307',25.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('3249','413',35.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('6083','200',185.89)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('6083','413',346.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('3157','202',485.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('4139','200',205.40)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('4139','413',334.50)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('4139','307',124.50)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('1379','202',500.50)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('1379','205',78.50)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('6083','500',3700.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('3157','450',323.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('4139','550',2730.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('1379','450',256.99)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('6083','600',456.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('1239','450',323.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('7040','550',2999.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('6213','600',560.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('6213','450',323.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('1239','450',323.89)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('5000','550',3000.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


SQL> @ins_item;

1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.

SQL> @ins_bill
insert into bill values ('3249','200',150.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('3249','205',10.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('3249','307',25.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('3249','413',35.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('6083','200',185.89)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('6083','413',346.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('3157','202',485.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('4139','200',205.40)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('4139','413',334.50)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('4139','307',124.50)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('1379','202',500.50)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('1379','205',78.50)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('6083','500',3700.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('3157','450',323.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('4139','550',2730.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('1379','450',256.99)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('6083','600',456.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('1239','450',323.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('7040','550',2999.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('6213','600',560.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('6213','450',323.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('1239','450',323.89)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('5000','550',3000.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


SQL> @ins_patient
SP2-0734: unknown command beginning "==========..." - rest of line ignored.
insert into patient values
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.PAT_FK_LOC_ROOM_LOC) violated - 
parent key not found 


insert into patient values
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.PAT_FK_LOC_ROOM_LOC) violated - 
parent key not found 


insert into patient values
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.PAT_FK_LOC_ROOM_LOC) violated - 
parent key not found 


insert into patient values
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.PAT_FK_LOC_ROOM_LOC) violated - 
parent key not found 


insert into patient values
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.PAT_FK_LOC_ROOM_LOC) violated - 
parent key not found 


insert into patient values
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.PAT_FK_LOC_ROOM_LOC) violated - 
parent key not found 


insert into patient values
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.PAT_FK_LOC_ROOM_LOC) violated - 
parent key not found 


insert into patient values
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.PAT_FK_LOC_ROOM_LOC) violated - 
parent key not found 


insert into patient values
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.PAT_FK_LOC_ROOM_LOC) violated - 
parent key not found 


SQL> @ins_room

1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.

SQL> @ins_patient
SP2-0734: unknown command beginning "==========..." - rest of line ignored.

1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.

SQL> @ins_procedure

1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.

SQL> @ins_physician

1 row created.


1 row created.


1 row created.

SQL> select * from item
  2  /

ITE DESCRIPTION                                                                 
--- --------------------                                                        
200 Room, semi-pr                                                               
202 Room, private                                                               
203 Room, ward                                                                  
205 Television                                                                  
307 X-ray                                                                       
413 Lab tests                                                                   
450 Observation                                                                 
500 Tonsillectomy                                                               
550 Chemotherapy                                                                
600 Radiation                                                                   

10 rows selected.

SQL> desc item
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 ITEMCODE                                  NOT NULL CHAR(3)
 DESCRIPTION                                        VARCHAR2(20)

SQL> select * from bill
  2  /

no rows selected

SQL> @ins_bill

1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.

insert into bill values ('1239','450',323.89)
*
ERROR at line 1:
ORA-00001: unique constraint (MVHOSPITAL_DBA.BILL_PK_PID_ITEM_CODE) violated 



1 row created.

SQL> desc bill
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 PID                                       NOT NULL CHAR(4)
 ITEMCODE                                  NOT NULL CHAR(3)
 CHARGE                                             NUMBER(9,2)

SQL> prompt I am bhargav
I am bhargav
SQL> revoke user mvhospital_dba
  2  /
revoke user mvhospital_dba
       *
ERROR at line 1:
ORA-00990: missing or invalid privilege 


SQL> revoke mvhospital_dba
  2  /
revoke mvhospital_dba
       *
ERROR at line 1:
ORA-00990: missing or invalid privilege 


SQL> conn mvhopital_dba/mvhospital_dba/
SP2-0306: Invalid option.
Usage: CONN[ECT] [{logon|/|proxy} [AS {SYSDBA|SYSOPER|SYSASM}] [edition=value]]
where <logon> ::= <username>[/<password>][@<connect_identifier>]
      <proxy> ::= <proxyuser>[<username>][/<password>][@<connect_identifier>]
SQL> conn mvhopital_dba/mvhospital_dba;
ERROR:
ORA-01017: invalid username/password; logon denied 


Warning: You are no longer connected to ORACLE.
SQL> @drop user
SP2-0310: unable to open file "drop.sql"
SQL> @drop_user
... dropping user mvhospital_dba
SP2-0640: Not connected
dropped mvhospital_dba....
SQL> @create_user
SP2-0640: Not connected
SP2-0640: Not connected
SP2-0640: Not connected
... user mvhospital_dba created and was granted privilleges..  log in as this user now...
SQL> spool off;
SQL> @create_tablespace

Tablespace created.

SQL> @create_user
drop user mvhospital_dba cascade
*
ERROR at line 1:
ORA-01940: cannot drop a user that is currently connected 


create user mvhospital_dba
            *
ERROR at line 1:
ORA-01920: user name 'MVHOSPITAL_DBA' conflicts with another user or role name 



Grant succeeded.

... user mvhospital_dba created and was granted privilleges..  log in as this user now...
SQL> conn mvhospital_dba/mvhospital_dba
Connected.
SQL> @create_tables
... in create_tables.sql...
... creating table item...

Table created.

... creating table room...

Table created.

... creating table patient...

Table created.

... creating bill...

Table created.

... creating table physician...

Table created.

... creating table procedure...

Table created.


TABLE_NAME                                                                      
------------------------------                                                  
ITEM                                                                            
ROOM                                                                            
PATIENT                                                                         
BILL                                                                            
PHYSICIAN                                                                       
PROCEDURE                                                                       

6 rows selected.

SQL> @ins_item

1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.

SQL> @ins_room

1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.

SQL> @ins_physician

1 row created.


1 row created.


1 row created.

SQL> @ins_bill
insert into bill values ('3249','200',150.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('3249','205',10.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('3249','307',25.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('3249','413',35.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('6083','200',185.89)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('6083','413',346.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('3157','202',485.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('4139','200',205.40)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('4139','413',334.50)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('4139','307',124.50)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('1379','202',500.50)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('1379','205',78.50)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('6083','500',3700.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('3157','450',323.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('4139','550',2730.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('1379','450',256.99)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('6083','600',456.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('1239','450',323.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('7040','550',2999.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('6213','600',560.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('6213','450',323.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('1239','450',323.89)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('5000','550',3000.00)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


SQL> @ins_patient
SP2-0734: unknown command beginning "==========..." - rest of line ignored.

1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.

SQL> @ins_bill

1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.

insert into bill values ('1239','450',323.89)
*
ERROR at line 1:
ORA-00001: unique constraint (MVHOSPITAL_DBA.BILL_PK_PID_ITEM_CODE) violated 



1 row created.

SQL> @ins_bill
insert into bill values ('3249','200',150.00)
*
ERROR at line 1:
ORA-00001: unique constraint (MVHOSPITAL_DBA.BILL_PK_PID_ITEM_CODE) violated 


insert into bill values ('3249','205',10.00)
*
ERROR at line 1:
ORA-00001: unique constraint (MVHOSPITAL_DBA.BILL_PK_PID_ITEM_CODE) violated 


insert into bill values ('3249','307',25.00)
*
ERROR at line 1:
ORA-00001: unique constraint (MVHOSPITAL_DBA.BILL_PK_PID_ITEM_CODE) violated 


insert into bill values ('3249','413',35.00)
*
ERROR at line 1:
ORA-00001: unique constraint (MVHOSPITAL_DBA.BILL_PK_PID_ITEM_CODE) violated 


insert into bill values ('6083','200',185.89)
*
ERROR at line 1:
ORA-00001: unique constraint (MVHOSPITAL_DBA.BILL_PK_PID_ITEM_CODE) violated 


insert into bill values ('6083','413',346.00)
*
ERROR at line 1:
ORA-00001: unique constraint (MVHOSPITAL_DBA.BILL_PK_PID_ITEM_CODE) violated 


insert into bill values ('3157','202',485.00)
*
ERROR at line 1:
ORA-00001: unique constraint (MVHOSPITAL_DBA.BILL_PK_PID_ITEM_CODE) violated 


insert into bill values ('4139','200',205.40)
*
ERROR at line 1:
ORA-00001: unique constraint (MVHOSPITAL_DBA.BILL_PK_PID_ITEM_CODE) violated 


insert into bill values ('4139','413',334.50)
*
ERROR at line 1:
ORA-00001: unique constraint (MVHOSPITAL_DBA.BILL_PK_PID_ITEM_CODE) violated 


insert into bill values ('4139','307',124.50)
*
ERROR at line 1:
ORA-00001: unique constraint (MVHOSPITAL_DBA.BILL_PK_PID_ITEM_CODE) violated 


insert into bill values ('1379','202',500.50)
*
ERROR at line 1:
ORA-00001: unique constraint (MVHOSPITAL_DBA.BILL_PK_PID_ITEM_CODE) violated 


insert into bill values ('1379','205',78.50)
*
ERROR at line 1:
ORA-00001: unique constraint (MVHOSPITAL_DBA.BILL_PK_PID_ITEM_CODE) violated 


insert into bill values ('6083','500',3700.00)
*
ERROR at line 1:
ORA-00001: unique constraint (MVHOSPITAL_DBA.BILL_PK_PID_ITEM_CODE) violated 


insert into bill values ('3157','450',323.00)
*
ERROR at line 1:
ORA-00001: unique constraint (MVHOSPITAL_DBA.BILL_PK_PID_ITEM_CODE) violated 


insert into bill values ('4139','550',2730.00)
*
ERROR at line 1:
ORA-00001: unique constraint (MVHOSPITAL_DBA.BILL_PK_PID_ITEM_CODE) violated 


insert into bill values ('1379','450',256.99)
*
ERROR at line 1:
ORA-00001: unique constraint (MVHOSPITAL_DBA.BILL_PK_PID_ITEM_CODE) violated 


insert into bill values ('6083','600',456.00)
*
ERROR at line 1:
ORA-00001: unique constraint (MVHOSPITAL_DBA.BILL_PK_PID_ITEM_CODE) violated 


insert into bill values ('1239','450',323.00)
*
ERROR at line 1:
ORA-00001: unique constraint (MVHOSPITAL_DBA.BILL_PK_PID_ITEM_CODE) violated 


insert into bill values ('7040','550',2999.00)
*
ERROR at line 1:
ORA-00001: unique constraint (MVHOSPITAL_DBA.BILL_PK_PID_ITEM_CODE) violated 


insert into bill values ('6213','600',560.00)
*
ERROR at line 1:
ORA-00001: unique constraint (MVHOSPITAL_DBA.BILL_PK_PID_ITEM_CODE) violated 


insert into bill values ('6213','450',323.00)
*
ERROR at line 1:
ORA-00001: unique constraint (MVHOSPITAL_DBA.BILL_PK_PID_ITEM_CODE) violated 


insert into bill values ('1241','450',323.89)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 


insert into bill values ('5000','550',3000.00)
*
ERROR at line 1:
ORA-00001: unique constraint (MVHOSPITAL_DBA.BILL_PK_PID_ITEM_CODE) violated 


SQL> drop table bill;

Table dropped.

SQL> @drop_tables;
drop table bill
           *
ERROR at line 1:
ORA-00942: table or view does not exist 



Table dropped.


Table dropped.


Table dropped.


Table dropped.


Table dropped.


no rows selected

SQL> @create_tables
... in create_tables.sql...
... creating table item...

Table created.

... creating table room...

Table created.

... creating table patient...

Table created.

... creating bill...

Table created.

... creating table physician...

Table created.

... creating table procedure...

Table created.


TABLE_NAME                                                                      
------------------------------                                                  
ITEM                                                                            
ROOM                                                                            
PATIENT                                                                         
BILL                                                                            
PHYSICIAN                                                                       
PROCEDURE                                                                       

6 rows selected.

SQL> @ins_room

1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.

SQL> @ins_patient
SP2-0734: unknown command beginning "==========..." - rest of line ignored.

1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.

SQL> @ins_item

1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.

SQL> @ins_physician

1 row created.


1 row created.


1 row created.

SQL> @ins_bill

1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.

insert into bill values ('1241','450',323.89)
*
ERROR at line 1:
ORA-02291: integrity constraint (MVHOSPITAL_DBA.BILL_FK_PID_PAT_PID) violated - 
parent key not found 



1 row created.

SQL> @ins_procedure

1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.

SQL> @drop_tables

Table dropped.


Table dropped.


Table dropped.


Table dropped.


Table dropped.


Table dropped.


no rows selected

SQL> @create_tables
... in create_tables.sql...
... creating table item...

Table created.

... creating table room...

Table created.

... creating table patient...

Table created.

... creating bill...

Table created.

... creating table physician...

Table created.

... creating table procedure...

Table created.


TABLE_NAME                                                                      
------------------------------                                                  
ITEM                                                                            
ROOM                                                                            
PATIENT                                                                         
BILL                                                                            
PHYSICIAN                                                                       
PROCEDURE                                                                       

6 rows selected.

SQL> @ins_room

1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.

SQL> @ins_patient
SP2-0734: unknown command beginning "==========..." - rest of line ignored.

1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.

SQL> @ins_physician

1 row created.


1 row created.


1 row created.

SQL> @ins_item

1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.

SQL> @ins_procedure

1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.

SQL> @ins_bill

1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.

SQL> select * from item
  2  /

ITE DESCRIPTION                                                                 
--- --------------------                                                        
200 Room, semi-pr                                                               
202 Room, private                                                               
203 Room, ward                                                                  
205 Television                                                                  
307 X-ray                                                                       
413 Lab tests                                                                   
450 Observation                                                                 
500 Tonsillectomy                                                               
550 Chemotherapy                                                                
600 Radiation                                                                   

10 rows selected.

SQL> desc patient
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 PID                                       NOT NULL CHAR(4)
 PNAME                                              VARCHAR2(20)
 ADDRESS                                            VARCHAR2(30)
 CSZ                                                VARCHAR2(30)
 DATEAD                                             DATE
 DATEDISC                                           DATE
 EXPDISDATE                                         DATE
 LOC                                                CHAR(5)
 THIRD_PARTY                                        VARCHAR2(15)

SQL> desc bill
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 PID                                       NOT NULL CHAR(4)
 ITEMCODE                                  NOT NULL CHAR(3)
 CHARGE                                             NUMBER(9,2)

SQL> desc item
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 ITEMCODE                                  NOT NULL CHAR(3)
 DESCRIPTION                                        VARCHAR2(20)

SQL> select p.pid,b.pid from bill b, patient p where p.pid=b.pid order by pid desc
  2  /
select p.pid,b.pid from bill b, patient p where p.pid=b.pid order by pid desc
                                                                     *
ERROR at line 1:
ORA-00960: ambiguous column naming in select list 


SQL> select p.pid,b.pid from bill b, patient p where p.pid=b.pid order by p.pid desc
  2  /

PID  PID                                                                        
---- ----                                                                       
7040 7040                                                                       
6213 6213                                                                       
6213 6213                                                                       
6083 6083                                                                       
6083 6083                                                                       
6083 6083                                                                       
6083 6083                                                                       
5000 5000                                                                       
4139 4139                                                                       
4139 4139                                                                       
4139 4139                                                                       

PID  PID                                                                        
---- ----                                                                       
4139 4139                                                                       
3249 3249                                                                       
3249 3249                                                                       
3249 3249                                                                       
3249 3249                                                                       
3157 3157                                                                       
3157 3157                                                                       
1379 1379                                                                       
1379 1379                                                                       
1379 1379                                                                       
1239 1239                                                                       

PID  PID                                                                        
---- ----                                                                       
1239 1239                                                                       

23 rows selected.

SQL> select pid from patient;

PID                                                                             
----                                                                            
1239                                                                            
1379                                                                            
3157                                                                            
3249                                                                            
4139                                                                            
5000                                                                            
6083                                                                            
6213                                                                            
7040                                                                            

9 rows selected.

SQL> desc patient
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 PID                                       NOT NULL CHAR(4)
 PNAME                                              VARCHAR2(20)
 ADDRESS                                            VARCHAR2(30)
 CSZ                                                VARCHAR2(30)
 DATEAD                                             DATE
 DATEDISC                                           DATE
 EXPDISDATE                                         DATE
 LOC                                                CHAR(5)
 THIRD_PARTY                                        VARCHAR2(15)

SQL> select * from patient where pid='7040';

PID  PNAME                ADDRESS                                               
---- -------------------- ------------------------------                        
CSZ                            DATEAD    DATEDISC  EXPDISDAT LOC                
------------------------------ --------- --------- --------- -----              
THIRD_PARTY                                                                     
---------------                                                                 
7040 Ortega, Juan         124 Palace Pl.                                        
Denver, CO. 80711              12-OCT-14           19-OCT-14 103-1              
Blue Cross                                                                      
                                                                                

SQL> insert into patient values('1111','Venu','houston','76876',09-JUN-15,19-SEP-2016,10-DEC-2016,'437-2','Narakam');
insert into patient values('1111','Venu','houston','76876',09-JUN-15,19-SEP-2016,10-DEC-2016,'437-2','Narakam')
                                                                                    *
ERROR at line 1:
ORA-00984: column not allowed here 


SQL> insert into patient values('1111','Venu','houston','76876',09-JUN-15,19-SEP-2016,10-DEC-2016,'437-2','Narakam');
insert into patient values('1111','Venu','houston','76876',09-JUN-15,19-SEP-2016,10-DEC-2016,'437-2','Narakam')
                                                                                    *
ERROR at line 1:
ORA-00984: column not allowed here 


SQL> insert into patient values('1111','Venu Anna','houston','76876',09-JUN-15,19-SEP-2016,10-DEC-2016,'437-2','white cross');
insert into patient values('1111','Venu Anna','houston','76876',09-JUN-15,19-SEP-2016,10-DEC-2016,'437-2','white cross')
                                                                                         *
ERROR at line 1:
ORA-00984: column not allowed here 


SQL> insert into patient values('1110','Venu Anna','houston','76876',09-JUN-15,19-SEP-2016,10-DEC-2016,'437-2','white cross');
insert into patient values('1110','Venu Anna','houston','76876',09-JUN-15,19-SEP-2016,10-DEC-2016,'437-2','white cross')
                                                                                         *
ERROR at line 1:
ORA-00984: column not allowed here 


SQL> insert into patient values('1110','Venu Anna','houston','76876',09-JUN-15,19-SEP-2016,10-DEC-2016,,'white cross');
insert into patient values('1110','Venu Anna','houston','76876',09-JUN-15,19-SEP-2016,10-DEC-2016,,'white cross')
                                                                                                  *
ERROR at line 1:
ORA-00936: missing expression 


SQL> insert into patient values('1110','Venu Anna','houston','76876',09-JUN-15,19-SEP-2016,10-DEC-2016,'1111','white cross');
insert into patient values('1110','Venu Anna','houston','76876',09-JUN-15,19-SEP-2016,10-DEC-2016,'1111','white cross')
                                                                                         *
ERROR at line 1:
ORA-00984: column not allowed here 


SQL> insert into patient values('1110','Venu Anna','houston','76876',09-JUN-15,19-SEP-2016,10-DEC-2016,'437-2','white cross');
insert into patient values('1110','Venu Anna','houston','76876',09-JUN-15,19-SEP-2016,10-DEC-2016,'437-2','white cross')
                                                                                         *
ERROR at line 1:
ORA-00984: column not allowed here 


SQL> insert into patient values('1110','Venu Anna','houston','76876',09-JUN-15,19-SEP-2016,10-DEC-2016,'437-2','white cross');
insert into patient values('1110','Venu Anna','houston','76876',09-JUN-15,19-SEP-2016,10-DEC-2016,'437-2','white cross')
                                                                                         *
ERROR at line 1:
ORA-00984: column not allowed here 


SQL> insert into patient values('1110','Venu Anna','houston','7676',09-JUN-15,19-SEP-2016,10-DEC-2016,'437-2','white cross');
insert into patient values('1110','Venu Anna','houston','7676',09-JUN-15,19-SEP-2016,10-DEC-2016,'437-2','white cross')
                                                                                        *
ERROR at line 1:
ORA-00984: column not allowed here 


SQL> spool off;
